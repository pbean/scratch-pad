
> scratch-pad@0.2.0 test /home/paulb/dev/scratch-pad
> vitest --run


 RUN  v3.2.4 /home/paulb/dev/scratch-pad

 ✓ src/components/note-view/__tests__/StatusBar.test.tsx (19 tests) 315ms
 ❯ src/components/note-view/__tests__/TabBar.test.tsx (18 tests | 4 failed) 319ms
   ✓ TabBar > should render all note tabs 77ms
   ✓ TabBar > should highlight active tab 24ms
   × TabBar > should switch active note when tab is clicked 30ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   ✓ TabBar > should show close button for each tab when multiple notes exist 27ms
   ✓ TabBar > should not show close button when only one note exists 8ms
   × TabBar > should close tab when close button is clicked 28ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × TabBar > should not switch tab when close button is clicked 12ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   ✓ TabBar > should use nickname as tab title when available 11ms
   ✓ TabBar > should use first line as tab title when no nickname 12ms
   ✓ TabBar > should show "Untitled" when no content and no nickname 11ms
   ✓ TabBar > should truncate long titles 4ms
   ✓ TabBar > should handle empty notes array 4ms
   ✓ TabBar > should apply correct CSS classes 7ms
   × TabBar > should handle hover states 10ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   ✓ TabBar > should maintain tab order 7ms
   ✓ TabBar > should handle different active note IDs 8ms
   ✓ TabBar > should handle null active note ID 10ms
   ✓ TabBar > should render close button with correct icon 20ms
 ✓ src/lib/__tests__/searchHighlighting.test.ts (42 tests) 121ms
stderr | src/components/__tests__/ScratchPadApp.test.tsx > ScratchPadApp > should handle initialization errors gracefully
Failed to initialize app: Error: Init failed
    at [90m/home/paulb/dev/scratch-pad/[39msrc/components/__tests__/ScratchPadApp.test.tsx:277:62
    at [90mfile:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:155:11
    at [90mfile:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:752:26
    at [90mfile:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1863:10[90m)[39m
    at runTest [90m(file:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1574:12[90m)[39m
    at runSuite [90m(file:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1729:8[90m)[39m
    at runFiles [90m(file:///home/paulb/dev/scratch-pad/[39mnode_modules/[4m.pnpm[24m/@vitest+runner@3.2.4/node_modules/[4m@vitest[24m/runner/dist/chunk-hooks.js:1787:3[90m)[39m

stdout | src/test/debug.test.tsx > React rendering debug > should debug the rendering environment
Document body innerHTML: <div id="test-root"><div>Hello World</div></div>
Container innerHTML: <div>Hello World</div>
[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m>[39m
    [36m<div>[39m
      [0mHello World[0m
    [36m</div>[39m
  [36m</div>[39m
[36m</body>[39m
Screen debug: [90mundefined[39m

 ✓ src/test/debug.test.tsx (2 tests) 71ms
 ✓ src/lib/__tests__/store.test.ts (32 tests) 84ms
 ✓ src/utils/__tests__/index.test.ts (8 tests) 51ms
 ❯ src/components/__tests__/ScratchPadApp.test.tsx (13 tests | 1 failed) 3913ms
   ✓ ScratchPadApp > should render note view by default  362ms
   ✓ ScratchPadApp > should render search history view when currentView is search-history 170ms
   ✓ ScratchPadApp > should render settings view when currentView is settings 298ms
   ✓ ScratchPadApp > should display error message when error exists 170ms
   ✓ ScratchPadApp > should initialize app on mount 159ms
   ✓ ScratchPadApp > should handle Escape key to hide window when no modals are open 22ms
   ✓ ScratchPadApp > should not hide window on Escape when command palette is open 14ms
   ✓ ScratchPadApp > should not hide window on Escape when in search-history view 20ms
   ✓ ScratchPadApp > should not hide window on Escape when in settings view 10ms
   ✓ ScratchPadApp > should handle hide window error gracefully 19ms
   ✓ ScratchPadApp > should apply correct styling 163ms
   ✓ ScratchPadApp > should render command palette in all views  489ms
   × ScratchPadApp > should handle initialization errors gracefully 2011ms
     → expected "spy" to be called at least once

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"h-screen w-screen overflow-hidden opacity-0"[39m
        [33mstyle[39m=[32m"background-color: hsl(var(--background)); color: hsl(var(--foreground));"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-full w-full stagger-children"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"note-view"[39m
          [36m>[39m
            [0mNote View[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"command-palette"[39m
        [36m>[39m
          [0mCommand Palette[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"toast-container"[39m
        [36m/>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ✓ src/hooks/__tests__/useMemoryCleanup.test.ts (4 tests) 37ms
stderr | src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should reset query and selection when opened
An update to CommandPalette inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx (24 tests | 12 failed) 10630ms
   ✓ CommandPalette > should not render when closed 48ms
   ✓ CommandPalette > should render when open 57ms
   × CommandPalette > should auto-focus input when opened 10115ms
     → [2mexpect([22m[31melement[39m[2m).toHaveFocus()[22m

Expected element with focus:
  [32m<input
  class="w-full bg-transparent text-foreground placeholder-muted-foreground outline-none text-sm focus-ring pl-10 pr-4 py-2"
  placeholder="Type a command or search..."
  type="text"
  value=""
/>[39m
Received element with focus:
  [31m<body>
  <div
    id="test-root"
  />
  <div>
    <div
      class="fixed inset-0 bg-black/50 flex items-start justify-center pt-[20vh] z-50 palette-backdrop"
    >
      <div
        class="bg-popover border border-border rounded-lg shadow-2xl w-full max-w-lg mx-4 palette-content"
      >
        <div
          class="p-4 border-b border-border"
        >
          <div … />
        </div>
        <div
          class="max-h-80 overflow-y-auto"
        >
          <div … />
        </div>
        <div
          class="border-t border-border px-4 py-2 text-xs text-muted-foreground bg-muted/30"
        >
          <div … />
        </div>
      </div>
    </div>
  </div>
</body>[39m

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed inset-0 bg-black/50 flex items-start justify-center pt-[20vh] z-50 palette-backdrop"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-popover border border-border rounded-lg shadow-2xl w-full max-w-lg mx-4 palette-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-b border-border"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"16"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"16"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m21 21-4.34-4.34"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"11"[39m
                  [33mcy[39m=[32m"11"[39m
                  [33mr[39m=[32m"8"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full bg-transparent text-foreground placeholder-muted-foreground outline-none text-sm focus-ring pl-10 pr-4 py-2"[39m
                [33mplaceholder[39m=[32m"Type a command or search..."[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-h-80 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"stagger-children"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    bg-accent text-accent-foreground
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-search"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.34-4.34"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mSearch History[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mSearch and browse your notes[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground bg-muted px-2 py-1 rounded font-mono border scale-in"[39m
                [36m>[39m
                  [0mCtrl+Shift+F[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-plus"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mNew Note[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mCreate a new note[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground bg-muted px-2 py-1 rounded font-mono border scale-in"[39m
                [36m>[39m
                  [0mCtrl+N[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-text"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M10 9H8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 13H8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 17H8"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mExport Note[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mExport current note to file[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-folder-open"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mOpen Folder[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mOpen notes folder in file explorer[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-settings"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mOpen Settings[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mConfigure application settings[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-t border-border px-4 py-2 text-xs text-muted-foreground bg-muted/30"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<span>[39m
                [0m↑↓ to navigate[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mEnter to select[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mEsc to close[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
   ✓ CommandPalette > should display all default commands 18ms
   ✓ CommandPalette > should display command descriptions 19ms
   ✓ CommandPalette > should display keyboard shortcuts 18ms
   × CommandPalette > should filter commands based on search query 15ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × CommandPalette > should filter commands by description 10ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × CommandPalette > should show "No commands found" when no matches 29ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   ✓ CommandPalette > should close on Escape key 20ms
   ✓ CommandPalette > should navigate with arrow keys 39ms
   ✓ CommandPalette > should wrap navigation at boundaries 21ms
   ✓ CommandPalette > should execute command on Enter 17ms
   × CommandPalette > should execute command on click 13ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × CommandPalette > should handle export note command 17ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × CommandPalette > should handle export note error 21ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × CommandPalette > should handle export when no active note 13ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × CommandPalette > should open settings view 14ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   ✓ CommandPalette > should reset query and selection when opened 16ms
   × CommandPalette > should reset selection when query changes 28ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   ✓ CommandPalette > should render command icons 38ms
   ✓ CommandPalette > should apply correct styling 15ms
   × CommandPalette > should handle keyboard navigation with filtered results 14ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × CommandPalette > should handle case-insensitive filtering 12ms
     → Cannot read properties of undefined (reading 'pointerEvents')
 ❯ src/components/note-view/__tests__/NoteView.test.tsx (27 tests | 17 failed) 20444ms
   ✓ NoteView > should render textarea with note content 84ms
   ✓ NoteView > should render tab bar when multiple notes exist 12ms
   ✓ NoteView > should not render tab bar when only one note exists 11ms
   ✓ NoteView > should render status bar with correct props 15ms
   × NoteView > should auto-focus textarea on mount 5012ms
     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   ✓ NoteView > should update content when typing 15ms
   × NoteView > should auto-save after 2 seconds of inactivity 17ms
     → expected "spy" to be called with arguments: [ 'Modified content' ][90m

Number of calls: [1m0[22m
[39m
   ✓ NoteView > should not auto-save if content unchanged 11ms
   ✓ NoteView > should handle Ctrl+P to open command palette 16ms
   ✓ NoteView > should handle Ctrl+Shift+F to open search view 19ms
   ✓ NoteView > should handle Ctrl+N to create new note 9ms
   × NoteView > should handle Ctrl+S to manually save 15032ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × NoteView > should handle Ctrl+W to close tab when multiple notes exist 8ms
     → expected "spy" to be called with arguments: [ 1 ][90m

Number of calls: [1m0[22m
[39m
   ✓ NoteView > should not close tab with Ctrl+W when only one note exists 7ms
   × NoteView > should handle tab navigation with Ctrl+Tab 7ms
     → expected "spy" to be called with arguments: [ 2 ][90m

Number of calls: [1m0[22m
[39m
   × NoteView > should handle reverse tab navigation with Ctrl+Shift+Tab 7ms
     → expected "spy" to be called with arguments: [ 1 ][90m

Number of calls: [1m0[22m
[39m
   × NoteView > should handle number shortcuts to switch tabs 7ms
     → expected "spy" to be called with arguments: [ 2 ][90m

Number of calls: [1m0[22m
[39m
   × NoteView > should handle layout mode shortcuts 7ms
     → expected 1st "spy" call to have been called with [ 'set_layout_mode', …(1) ], but called only 0 times
   × NoteView > should display placeholder when no note is selected 84ms
     → Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should update content when active note changes 8ms
     → Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should show auto-saving status 7ms
     → Unable to find an element by: [data-testid="is-auto-saving"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should handle save errors gracefully 8ms
     → Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should calculate word count correctly 9ms
     → Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should handle empty content word count 8ms
     → Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should use nickname as title when available 8ms
     → Unable to find an element by: [data-testid="note-title"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should use first line as title when no nickname 6ms
     → Unable to find an element by: [data-testid="note-title"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × NoteView > should show "Untitled" when no content and no nickname 6ms
     → Unable to find an element by: [data-testid="note-title"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ src/components/settings/__tests__/SettingsView.test.tsx (19 tests | 16 failed) 36759ms
   ✓ SettingsView > should render loading state initially  422ms
   × SettingsView > should load and display settings 10019ms
     → Unable to find an element with the display value: Inter.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
      [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 19-7-7 7-7"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 12H5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mBack to Notes[0m
          [36m</button>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold"[39m
            [36m>[39m
              [0mSettings[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
            [36m>[39m
              [0mConfigure your scratch-pad application preferences[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-orientation[39m=[32m"horizontal"[39m
          [33mdir[39m=[32m"ltr"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-orientation[39m=[32m"horizontal"[39m
            [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mrole[39m=[32m"tablist"[39m
            [33mstyle[39m=[32m"outline: none;"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-general"[39m
              [33maria-selected[39m=[32m"true"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"active"[39m
              [33mid[39m=[32m"radix-«rp»-trigger-general"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mGeneral[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-performance"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«rp»-trigger-performance"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mPerformance[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-monitoring"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«rp»-trigger-monitoring"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mMonitoring[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-optimization"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-...

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
        [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m12 19-7-7 7-7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 12H5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mBack to Notes[0m
            [36m</button>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl font-bold"[39m
              [36m>[39m
                [0mSettings[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
              [36m>[39m
                [0mConfigure your scratch-pad application preferences[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mdir[39m=[32m"ltr"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-orientation[39m=[32m"horizontal"[39m
              [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mrole[39m=[32m"tablist"[39m
              [33mstyle[39m=[32m"outline: none;"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-general"[39m
                [33maria-selected[39m=[32m"true"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"active"[39m
                [33mid[39m=[32m"radix-«rp»-trigger-general"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mGeneral[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-performance"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«rp»-trigger-performance"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mPerformance[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-monitoring"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«rp»-trigger-monitoring"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mMonitoring[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-optimization"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity...
   × SettingsView > should render all settings sections 10031ms
     → Found multiple elements with the text: Global Shortcut

Here are the matching elements:

[36m<div[39m
  [33mclass[39m=[32m"leading-none font-semibold"[39m
  [33mdata-slot[39m=[32m"card-title"[39m
[36m>[39m
  [0mGlobal Shortcut[0m
[36m</div>[39m

[36m<label[39m
  [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
  [33mdata-slot[39m=[32m"label"[39m
  [33mfor[39m=[32m"globalShortcut"[39m
[36m>[39m
  [0mGlobal Shortcut[0m
[36m</label>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
      [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 19-7-7 7-7"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 12H5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mBack to Notes[0m
          [36m</button>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold"[39m
            [36m>[39m
              [0mSettings[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
            [36m>[39m
              [0mConfigure your scratch-pad application preferences[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-orientation[39m=[32m"horizontal"[39m
          [33mdir[39m=[32m"ltr"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-orientation[39m=[32m"horizontal"[39m
            [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mrole[39m=[32m"tablist"[39m
            [33mstyle[39m=[32m"outline: none;"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-general"[39m
              [33maria-selected[39m=[32m"true"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"active"[39m
              [33mid[39m=[32m"radix-«r1i»-trigger-general"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mGeneral[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-performance"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«r1i»-trigger-performance"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mPerformance[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-monitoring"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«r1i»-trigger-monitoring"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mMonitoring[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-optimization"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [3...

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
        [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m12 19-7-7 7-7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 12H5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mBack to Notes[0m
            [36m</button>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl font-bold"[39m
              [36m>[39m
                [0mSettings[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
              [36m>[39m
                [0mConfigure your scratch-pad application preferences[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mdir[39m=[32m"ltr"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-orientation[39m=[32m"horizontal"[39m
              [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mrole[39m=[32m"tablist"[39m
              [33mstyle[39m=[32m"outline: none;"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-general"[39m
                [33maria-selected[39m=[32m"true"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"active"[39m
                [33mid[39m=[32m"radix-«r1i»-trigger-general"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mGeneral[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-performance"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«r1i»-trigger-performance"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mPerformance[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-monitoring"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«r1i»-trigger-monitoring"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mMonitoring[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-optimization"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:...
   × SettingsView > should handle back button click 94ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × SettingsView > should validate form inputs 126ms
     → The element to be cleared could not be focused.
   × SettingsView > should validate numeric fields 95ms
     → The element to be cleared could not be focused.
   × SettingsView > should save settings successfully 77ms
     → The element to be cleared could not be focused.
   × SettingsView > should handle save errors 150ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × SettingsView > should export settings 103ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × SettingsView > should import settings 82ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × SettingsView > should reset settings to defaults 89ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × SettingsView > should not reset settings if user cancels 52ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × SettingsView > should clear validation errors when input changes 66ms
     → The element to be cleared could not be focused.
   ✓ SettingsView > should display error messages 46ms
   ✓ SettingsView > should handle loading errors gracefully 74ms
   × SettingsView > should show saving state 70ms
     → Cannot read properties of undefined (reading 'pointerEvents')
   × SettingsView > should validate fuzzy search threshold range 76ms
     → The element to be cleared could not be focused.
   × SettingsView > should validate auto-save delay range 72ms
     → The element to be cleared could not be focused.
   × SettingsView > should auto-hide success messages 15009ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx (22 tests | 18 failed) 171024ms
   ✓ SearchHistoryView > should render header with back button 156ms
   ✓ SearchHistoryView > should render search input 39ms
   × SearchHistoryView > should auto-focus search input on mount 5097ms
     → Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   ✓ SearchHistoryView > should display folder structure in browser mode 30ms
   ✓ SearchHistoryView > should display notes in folders 35ms
   × SearchHistoryView > should show last modified times 15031ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should switch to search mode when typing 15069ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should display search results 12ms
     → Unable to find an element with the placeholder text of: Search notes...

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × SearchHistoryView > should debounce search queries 8ms
     → Unable to find an element with the placeholder text of: Search notes...

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × SearchHistoryView > should handle keyboard navigation 9ms
     → Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × SearchHistoryView > should expand/collapse folders with Enter key 7ms
     → Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × SearchHistoryView > should open note with Enter key 10ms
     → Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × SearchHistoryView > should handle Escape key to go back to note view 10ms
     → Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
   × SearchHistoryView > should clear search query with Escape when searching 15006ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should handle back button click 15046ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should show "No notes available" when no notes 15077ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should show "No notes found" in search mode with no results 15074ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should display correct footer information 15062ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should handle search errors gracefully 15012ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should truncate long content previews in search mode 15076ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should show loading state during search 15075ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
   × SearchHistoryView > should handle load more notes 15075ms
     → Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".

⎯⎯⎯⎯⎯⎯ Failed Tests 68 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  src/components/__tests__/ScratchPadApp.test.tsx > ScratchPadApp > should handle initialization errors gracefully
AssertionError: expected "spy" to be called at least once

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"h-screen w-screen overflow-hidden opacity-0"[39m
        [33mstyle[39m=[32m"background-color: hsl(var(--background)); color: hsl(var(--foreground));"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"h-full w-full stagger-children"[39m
        [36m>[39m
          [36m<div[39m
            [33mdata-testid[39m=[32m"note-view"[39m
          [36m>[39m
            [0mNote View[0m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"command-palette"[39m
        [36m>[39m
          [0mCommand Palette[0m
        [36m</div>[39m
        [36m<div[39m
          [33mdata-testid[39m=[32m"toast-container"[39m
        [36m/>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ __vi_import_1__.waitFor.timeout src/components/__tests__/ScratchPadApp.test.tsx:290:29
    288|     await waitFor(() => {
    289|       expect(mockInitializeSettings).toHaveBeenCalled()
    290|       expect(mockLoadNotes).toHaveBeenCalled()
       |                             ^
    291|     }, { timeout: 2000 })
    292|   })
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should auto-focus input when opened
Error: [2mexpect([22m[31melement[39m[2m).toHaveFocus()[22m

Expected element with focus:
  [32m<input
  class="w-full bg-transparent text-foreground placeholder-muted-foreground outline-none text-sm focus-ring pl-10 pr-4 py-2"
  placeholder="Type a command or search..."
  type="text"
  value=""
/>[39m
Received element with focus:
  [31m<body>
  <div
    id="test-root"
  />
  <div>
    <div
      class="fixed inset-0 bg-black/50 flex items-start justify-center pt-[20vh] z-50 palette-backdrop"
    >
      <div
        class="bg-popover border border-border rounded-lg shadow-2xl w-full max-w-lg mx-4 palette-content"
      >
        <div
          class="p-4 border-b border-border"
        >
          <div … />
        </div>
        <div
          class="max-h-80 overflow-y-auto"
        >
          <div … />
        </div>
        <div
          class="border-t border-border px-4 py-2 text-xs text-muted-foreground bg-muted/30"
        >
          <div … />
        </div>
      </div>
    </div>
  </div>
</body>[39m

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"fixed inset-0 bg-black/50 flex items-start justify-center pt-[20vh] z-50 palette-backdrop"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"bg-popover border border-border rounded-lg shadow-2xl w-full max-w-lg mx-4 palette-content"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"p-4 border-b border-border"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"relative"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-search absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"16"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"16"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m21 21-4.34-4.34"[39m
                [36m/>[39m
                [36m<circle[39m
                  [33mcx[39m=[32m"11"[39m
                  [33mcy[39m=[32m"11"[39m
                  [33mr[39m=[32m"8"[39m
                [36m/>[39m
              [36m</svg>[39m
              [36m<input[39m
                [33mclass[39m=[32m"w-full bg-transparent text-foreground placeholder-muted-foreground outline-none text-sm focus-ring pl-10 pr-4 py-2"[39m
                [33mplaceholder[39m=[32m"Type a command or search..."[39m
                [33mtype[39m=[32m"text"[39m
                [33mvalue[39m=[32m""[39m
              [36m/>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"max-h-80 overflow-y-auto"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"stagger-children"[39m
            [36m>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    bg-accent text-accent-foreground
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-search"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m21 21-4.34-4.34"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"11"[39m
                      [33mcy[39m=[32m"11"[39m
                      [33mr[39m=[32m"8"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mSearch History[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mSearch and browse your notes[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground bg-muted px-2 py-1 rounded font-mono border scale-in"[39m
                [36m>[39m
                  [0mCtrl+Shift+F[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-plus"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M5 12h14"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M12 5v14"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mNew Note[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mCreate a new note[0m
                  [36m</div>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-xs text-muted-foreground bg-muted px-2 py-1 rounded font-mono border scale-in"[39m
                [36m>[39m
                  [0mCtrl+N[0m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-file-text"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M14 2v4a2 2 0 0 0 2 2h4"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M10 9H8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 13H8"[39m
                    [36m/>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M16 17H8"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mExport Note[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mExport current note to file[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-folder-open"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mOpen Folder[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mOpen notes folder in file explorer[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<div[39m
                [33mclass[39m=[32m"
                    command-item flex items-center gap-3 p-3 cursor-pointer smooth-transition button-press
                    hover:bg-muted
                    hover-lift
                  "[39m
              [36m>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"text-muted-foreground smooth-transition scale-in"[39m
                [36m>[39m
                  [36m<svg[39m
                    [33maria-hidden[39m=[32m"true"[39m
                    [33mclass[39m=[32m"lucide lucide-settings"[39m
                    [33mfill[39m=[32m"none"[39m
                    [33mheight[39m=[32m"16"[39m
                    [33mstroke[39m=[32m"currentColor"[39m
                    [33mstroke-linecap[39m=[32m"round"[39m
                    [33mstroke-linejoin[39m=[32m"round"[39m
                    [33mstroke-width[39m=[32m"2"[39m
                    [33mviewBox[39m=[32m"0 0 24 24"[39m
                    [33mwidth[39m=[32m"16"[39m
                    [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
                  [36m>[39m
                    [36m<path[39m
                      [33md[39m=[32m"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"[39m
                    [36m/>[39m
                    [36m<circle[39m
                      [33mcx[39m=[32m"12"[39m
                      [33mcy[39m=[32m"12"[39m
                      [33mr[39m=[32m"3"[39m
                    [36m/>[39m
                  [36m</svg>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"flex-1 min-w-0"[39m
                [36m>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"font-medium text-sm"[39m
                  [36m>[39m
                    [0mOpen Settings[0m
                  [36m</div>[39m
                  [36m<div[39m
                    [33mclass[39m=[32m"text-xs text-muted-foreground truncate"[39m
                  [36m>[39m
                    [0mConfigure application settings[0m
                  [36m</div>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"border-t border-border px-4 py-2 text-xs text-muted-foreground bg-muted/30"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"flex items-center justify-between"[39m
            [36m>[39m
              [36m<span>[39m
                [0m↑↓ to navigate[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mEnter to select[0m
              [36m</span>[39m
              [36m<span>[39m
                [0mEsc to close[0m
              [36m</span>[39m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</div>[39m
  [36m</body>[39m
[36m</html>[39m
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:83:74
     81|     
     82|     await waitFor(() => {
     83|       expect(screen.getByPlaceholderText('Type a command or search...'…
       |                                                                          ^
     84|     })
     85|   })
 ❯ runWithExpensiveErrorDiagnosticsDisabled node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/config.js:47:12
 ❯ checkCallback node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:124:77
 ❯ Timeout.checkRealTimersCallback node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:118:16

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should filter commands based on search query
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.type node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/type.js:10:9
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:125:5
    123|     
    124|     const input = screen.getByPlaceholderText('Type a command or searc…
    125|     await user.type(input, 'search')
       |     ^
    126|     
    127|     expect(screen.getByText('Search History')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should filter commands by description
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.type node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/type.js:10:9
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:138:5
    136|     
    137|     const input = screen.getByPlaceholderText('Type a command or searc…
    138|     await user.type(input, 'browse')
       |     ^
    139|     
    140|     expect(screen.getByText('Search History')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should show "No commands found" when no matches
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.type node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/type.js:10:9
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:150:5
    148|     
    149|     const input = screen.getByPlaceholderText('Type a command or searc…
    150|     await user.type(input, 'nonexistent')
       |     ^
    151|     
    152|     expect(screen.getByText('No commands found')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should execute command on click
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:229:5
    227|     render(<CommandPalette />)
    228|     
    229|     await user.click(screen.getByText('New Note'))
       |     ^
    230|     
    231|     expect(mockCreateNote).toHaveBeenCalled()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should handle export note command
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:242:5
    240|     render(<CommandPalette />)
    241|     
    242|     await user.click(screen.getByText('Export Note'))
       |     ^
    243|     
    244|     // Wait for the invoke promise to resolve and any subsequent state…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should handle export note error
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:269:7
    267|     
    268|     await act(async () => {
    269|       await user.click(screen.getByText('Export Note'))
       |       ^
    270|     })
    271|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should handle export when no active note
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:290:7
    288|     
    289|     await act(async () => {
    290|       await user.click(screen.getByText('Export Note'))
       |       ^
    291|     })
    292|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should open settings view
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:311:7
    309|     
    310|     await act(async () => {
    311|       await user.click(screen.getByText('Open Settings'))
       |       ^
    312|     })
    313|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should reset selection when query changes
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.type node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/type.js:10:9
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:346:5
    344|     // Type in search - should reset to first item in filtered results
    345|     const input = screen.getByPlaceholderText('Type a command or searc…
    346|     await user.type(input, 'export')
       |     ^
    347|     
    348|     // Wait for the selection to reset and re-render

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should handle keyboard navigation with filtered results
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.type node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/type.js:10:9
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:387:5
    385|     
    386|     const input = screen.getByPlaceholderText('Type a command or searc…
    387|     await user.type(input, 'export')
       |     ^
    388|     
    389|     // Wait for filtering to complete

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/68]⎯

 FAIL  src/components/command-palette/__tests__/CommandPalette.test.tsx > CommandPalette > should handle case-insensitive filtering
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.type node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/type.js:10:9
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/command-palette/__tests__/CommandPalette.test.tsx:409:5
    407|     
    408|     const input = screen.getByPlaceholderText('Type a command or searc…
    409|     await user.type(input, 'SEARCH')
       |     ^
    410|     
    411|     expect(screen.getByText('Search History')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should auto-focus textarea on mount
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:127:3
    125|   })
    126| 
    127|   it('should auto-focus textarea on mount', async () => {
       |   ^
    128|     render(<NoteView />)
    129|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should auto-save after 2 seconds of inactivity
AssertionError: expected "spy" to be called with arguments: [ 'Modified content' ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:177:26
    175|     })
    176|     
    177|     expect(mockSaveNote).toHaveBeenCalledWith('Modified content')
       |                          ^
    178|   })
    179| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[15/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle Ctrl+S to manually save
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:245:3
    243|   })
    244| 
    245|   it('should handle Ctrl+S to manually save', async () => {
       |   ^
    246|     const mockSaveNote = vi.fn()
    247|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[16/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle Ctrl+W to close tab when multiple notes exist
AssertionError: expected "spy" to be called with arguments: [ 1 ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:287:28
    285|     })
    286|     
    287|     expect(mockDeleteNote).toHaveBeenCalledWith(1)
       |                            ^
    288|   })
    289| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[17/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle tab navigation with Ctrl+Tab
AssertionError: expected "spy" to be called with arguments: [ 2 ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:328:31
    326|     })
    327|     
    328|     expect(mockSetActiveNote).toHaveBeenCalledWith(2) // Next tab
       |                               ^
    329|   })
    330| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[18/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle reverse tab navigation with Ctrl+Shift+Tab
AssertionError: expected "spy" to be called with arguments: [ 1 ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:350:31
    348|     })
    349|     
    350|     expect(mockSetActiveNote).toHaveBeenCalledWith(1) // Previous tab
       |                               ^
    351|   })
    352| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[19/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle number shortcuts to switch tabs
AssertionError: expected "spy" to be called with arguments: [ 2 ][90m

Number of calls: [1m0[22m
[39m
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:371:31
    369|     })
    370|     
    371|     expect(mockSetActiveNote).toHaveBeenCalledWith(2) // Second tab (i…
       |                               ^
    372|   })
    373| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[20/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle layout mode shortcuts
AssertionError: expected 1st "spy" call to have been called with [ 'set_layout_mode', …(1) ], but called only 0 times
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:386:24
    384|       fireEvent.keyDown(document, { key: '1', ctrlKey: true, altKey: t…
    385|     })
    386|     expect(mockInvoke).toHaveBeenNthCalledWith(1, 'set_layout_mode', {…
       |                        ^
    387|     
    388|     // Test Ctrl+Alt+2 for half layout

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[21/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should display placeholder when no note is selected
TestingLibraryElementError: Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:412:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[22/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should update content when active note changes
TestingLibraryElementError: Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:431:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[23/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should show auto-saving status
TestingLibraryElementError: Unable to find an element by: [data-testid="is-auto-saving"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:449:19

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[24/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle save errors gracefully
TestingLibraryElementError: Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:462:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[25/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should calculate word count correctly
TestingLibraryElementError: Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:484:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[26/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should handle empty content word count
TestingLibraryElementError: Unable to find an element with the role "textbox"

There are no available roles.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:496:29

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[27/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should use nickname as title when available
TestingLibraryElementError: Unable to find an element by: [data-testid="note-title"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:508:19

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[28/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should use first line as title when no nickname
TestingLibraryElementError: Unable to find an element by: [data-testid="note-title"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:522:19

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[29/68]⎯

 FAIL  src/components/note-view/__tests__/NoteView.test.tsx > NoteView > should show "Untitled" when no content and no nickname
TestingLibraryElementError: Unable to find an element by: [data-testid="note-title"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/note-view/__tests__/NoteView.test.tsx:536:19

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[30/68]⎯

 FAIL  src/components/note-view/__tests__/TabBar.test.tsx > TabBar > should switch active note when tab is clicked
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/note-view/__tests__/TabBar.test.tsx:80:5
     78|     render(<TabBar />)
     79|     
     80|     await user.click(screen.getByText('Second note content'))
       |     ^
     81|     
     82|     expect(mockSetActiveNote).toHaveBeenCalledWith(2)

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[31/68]⎯

 FAIL  src/components/note-view/__tests__/TabBar.test.tsx > TabBar > should close tab when close button is clicked
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/note-view/__tests__/TabBar.test.tsx:107:5
    105|     
    106|     const closeButtons = screen.getAllByRole('button')
    107|     await user.click(closeButtons[1]) // Close second tab
       |     ^
    108|     
    109|     expect(mockDeleteNote).toHaveBeenCalledWith(2)

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[32/68]⎯

 FAIL  src/components/note-view/__tests__/TabBar.test.tsx > TabBar > should not switch tab when close button is clicked
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/note-view/__tests__/TabBar.test.tsx:124:5
    122|     
    123|     const closeButtons = screen.getAllByRole('button')
    124|     await user.click(closeButtons[0]) // Close first tab (active tab)
       |     ^
    125|     
    126|     expect(mockDeleteNote).toHaveBeenCalledWith(1)

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[33/68]⎯

 FAIL  src/components/note-view/__tests__/TabBar.test.tsx > TabBar > should handle hover states
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/note-view/__tests__/TabBar.test.tsx:201:5
    199|     const inactiveTab = screen.getByText('Second note content').closes…
    200|     
    201|     await user.hover(inactiveTab!)
       |     ^
    202|     
    203|     expect(inactiveTab).toHaveClass('hover:bg-muted')

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[34/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should auto-focus search input on mount
Error: Test timed out in 5000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:185:3
    183|   })
    184| 
    185|   it('should auto-focus search input on mount', async () => {
       |   ^
    186|     render(<SearchHistoryView />)
    187|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[35/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should show last modified times
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:219:3
    217|   })
    218| 
    219|   it('should show last modified times', async () => {
       |   ^
    220|     render(<SearchHistoryView />)
    221|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[36/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should switch to search mode when typing
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:232:3
    230|   })
    231| 
    232|   it('should switch to search mode when typing', async () => {
       |   ^
    233|     const mockSearchNotes = vi.fn().mockResolvedValue([mockNote1])
    234|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[37/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should display search results
TestingLibraryElementError: Unable to find an element with the placeholder text of: Search notes...

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:261:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[38/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should debounce search queries
TestingLibraryElementError: Unable to find an element with the placeholder text of: Search notes...

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:281:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[39/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should handle keyboard navigation
TestingLibraryElementError: Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:304:32

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[40/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should expand/collapse folders with Enter key
TestingLibraryElementError: Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:320:30

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[41/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should open note with Enter key
TestingLibraryElementError: Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:346:30

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[42/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should handle Escape key to go back to note view
TestingLibraryElementError: Unable to find an element by: [data-testid="virtual-list"]

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div />[39m
[36m</body>[39m
 ❯ Object.getElementError src/test/setup.ts:16:19
     14|   getElementError: (message, container) => {
     15|     const prettyDOM = require('@testing-library/dom').prettyDOM
     16|     const error = new Error(
       |                   ^
     17|       [message, prettyDOM(container)].filter(Boolean).join('\n\n')
     18|     )
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:76:38
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:52:17
 ❯ node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/query-helpers.js:95:19
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:372:30

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[43/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should clear search query with Escape when searching
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:382:3
    380|   }, 8000) // Increased overall test timeout
    381| 
    382|   it('should clear search query with Escape when searching', async () …
       |   ^
    383|     render(<SearchHistoryView />)
    384|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[44/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should handle back button click
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:413:3
    411|   })
    412| 
    413|   it('should handle back button click', async () => {
       |   ^
    414|     const mockSetCurrentView = vi.fn()
    415|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[45/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should show "No notes available" when no notes
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:432:3
    430|   })
    431| 
    432|   it('should show "No notes available" when no notes', async () => {
       |   ^
    433|     await act(async () => {
    434|       useScratchPadStore.setState({ notes: [] })

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[46/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should show "No notes found" in search mode with no results
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:443:3
    441|   })
    442| 
    443|   it('should show "No notes found" in search mode with no results', as…
       |   ^
    444|     const mockSearchNotes = vi.fn().mockResolvedValue([])
    445|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[47/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should display correct footer information
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:467:3
    465|   })
    466| 
    467|   it('should display correct footer information', async () => {
       |   ^
    468|     render(<SearchHistoryView />)
    469|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[48/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should handle search errors gracefully
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:475:3
    473|   })
    474| 
    475|   it('should handle search errors gracefully', async () => {
       |   ^
    476|     const mockSearchNotes = vi.fn().mockRejectedValue(new Error('Searc…
    477|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[49/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should truncate long content previews in search mode
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:500:3
    498|   })
    499| 
    500|   it('should truncate long content previews in search mode', async () …
       |   ^
    501|     const longContentNote = {
    502|       ...mockNote1,

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[50/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should show loading state during search
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:530:3
    528|   })
    529| 
    530|   it('should show loading state during search', async () => {
       |   ^
    531|     const mockSearchNotes = vi.fn().mockImplementation(() => new Promi…
    532|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[51/68]⎯

 FAIL  src/components/search-history/__tests__/SearchHistoryView.test.tsx > SearchHistoryView > should handle load more notes
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/search-history/__tests__/SearchHistoryView.test.tsx:558:3
    556|   })
    557| 
    558|   it('should handle load more notes', async () => {
       |   ^
    559|     const mockLoadMoreNotes = vi.fn()
    560|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[52/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should load and display settings
TestingLibraryElementError: Unable to find an element with the display value: Inter.

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
      [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 19-7-7 7-7"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 12H5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mBack to Notes[0m
          [36m</button>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold"[39m
            [36m>[39m
              [0mSettings[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
            [36m>[39m
              [0mConfigure your scratch-pad application preferences[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-orientation[39m=[32m"horizontal"[39m
          [33mdir[39m=[32m"ltr"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-orientation[39m=[32m"horizontal"[39m
            [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mrole[39m=[32m"tablist"[39m
            [33mstyle[39m=[32m"outline: none;"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-general"[39m
              [33maria-selected[39m=[32m"true"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"active"[39m
              [33mid[39m=[32m"radix-«rp»-trigger-general"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mGeneral[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-performance"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«rp»-trigger-performance"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mPerformance[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-monitoring"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«rp»-trigger-monitoring"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mMonitoring[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«rp»-content-optimization"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-...

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
        [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m12 19-7-7 7-7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 12H5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mBack to Notes[0m
            [36m</button>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl font-bold"[39m
              [36m>[39m
                [0mSettings[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
              [36m>[39m
                [0mConfigure your scratch-pad application preferences[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mdir[39m=[32m"ltr"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-orientation[39m=[32m"horizontal"[39m
              [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mrole[39m=[32m"tablist"[39m
              [33mstyle[39m=[32m"outline: none;"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-general"[39m
                [33maria-selected[39m=[32m"true"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"active"[39m
                [33mid[39m=[32m"radix-«rp»-trigger-general"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mGeneral[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-performance"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«rp»-trigger-performance"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mPerformance[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-monitoring"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«rp»-trigger-monitoring"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mMonitoring[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«rp»-content-optimization"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity...
 ❯ waitForWrapper node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:67:11
     65|     render(<SettingsView />)
     66|     
     67|     await waitFor(() => {
       |           ^
     68|       expect(screen.getByDisplayValue('Ctrl+Shift+N')).toBeInTheDocume…
     69|       expect(screen.getByDisplayValue('Inter')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[53/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should render all settings sections
TestingLibraryElementError: Found multiple elements with the text: Global Shortcut

Here are the matching elements:

[36m<div[39m
  [33mclass[39m=[32m"leading-none font-semibold"[39m
  [33mdata-slot[39m=[32m"card-title"[39m
[36m>[39m
  [0mGlobal Shortcut[0m
[36m</div>[39m

[36m<label[39m
  [33mclass[39m=[32m"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50"[39m
  [33mdata-slot[39m=[32m"label"[39m
  [33mfor[39m=[32m"globalShortcut"[39m
[36m>[39m
  [0mGlobal Shortcut[0m
[36m</label>[39m

(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

[36m<body>[39m
  [36m<div[39m
    [33mid[39m=[32m"test-root"[39m
  [36m/>[39m
  [36m<div>[39m
    [36m<div[39m
      [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
      [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
    [36m>[39m
      [36m<div[39m
        [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
        [36m>[39m
          [36m<button[39m
            [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
          [36m>[39m
            [36m<svg[39m
              [33maria-hidden[39m=[32m"true"[39m
              [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
              [33mfill[39m=[32m"none"[39m
              [33mheight[39m=[32m"24"[39m
              [33mstroke[39m=[32m"currentColor"[39m
              [33mstroke-linecap[39m=[32m"round"[39m
              [33mstroke-linejoin[39m=[32m"round"[39m
              [33mstroke-width[39m=[32m"2"[39m
              [33mviewBox[39m=[32m"0 0 24 24"[39m
              [33mwidth[39m=[32m"24"[39m
              [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
            [36m>[39m
              [36m<path[39m
                [33md[39m=[32m"m12 19-7-7 7-7"[39m
              [36m/>[39m
              [36m<path[39m
                [33md[39m=[32m"M19 12H5"[39m
              [36m/>[39m
            [36m</svg>[39m
            [0mBack to Notes[0m
          [36m</button>[39m
          [36m<div>[39m
            [36m<h1[39m
              [33mclass[39m=[32m"text-2xl font-bold"[39m
            [36m>[39m
              [0mSettings[0m
            [36m</h1>[39m
            [36m<p[39m
              [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
            [36m>[39m
              [0mConfigure your scratch-pad application preferences[0m
            [36m</p>[39m
          [36m</div>[39m
        [36m</div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"space-y-6"[39m
          [33mdata-orientation[39m=[32m"horizontal"[39m
          [33mdir[39m=[32m"ltr"[39m
        [36m>[39m
          [36m<div[39m
            [33maria-orientation[39m=[32m"horizontal"[39m
            [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mrole[39m=[32m"tablist"[39m
            [33mstyle[39m=[32m"outline: none;"[39m
            [33mtabindex[39m=[32m"0"[39m
          [36m>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-general"[39m
              [33maria-selected[39m=[32m"true"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"active"[39m
              [33mid[39m=[32m"radix-«r1i»-trigger-general"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mGeneral[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-performance"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«r1i»-trigger-performance"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mPerformance[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-monitoring"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [33mdata-state[39m=[32m"inactive"[39m
              [33mid[39m=[32m"radix-«r1i»-trigger-monitoring"[39m
              [33mrole[39m=[32m"tab"[39m
              [33mtabindex[39m=[32m"-1"[39m
              [33mtype[39m=[32m"button"[39m
            [36m>[39m
              [0mMonitoring[0m
            [36m</button>[39m
            [36m<button[39m
              [33maria-controls[39m=[32m"radix-«r1i»-content-optimization"[39m
              [33maria-selected[39m=[32m"false"[39m
              [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mdata-radix-collection-item[39m=[32m""[39m
              [3...

[36m<html>[39m
  [36m<head />[39m
  [36m<body>[39m
    [36m<div[39m
      [33mid[39m=[32m"test-root"[39m
    [36m/>[39m
    [36m<div>[39m
      [36m<div[39m
        [33mclass[39m=[32m"h-screen w-screen overflow-auto"[39m
        [33mstyle[39m=[32m"background-color: hsl(var(--background));"[39m
      [36m>[39m
        [36m<div[39m
          [33mclass[39m=[32m"max-w-6xl mx-auto p-6 space-y-6"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"flex items-center gap-4 mb-6"[39m
          [36m>[39m
            [36m<button[39m
              [33mclass[39m=[32m"justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-9 rounded-md px-3 flex items-center gap-2"[39m
            [36m>[39m
              [36m<svg[39m
                [33maria-hidden[39m=[32m"true"[39m
                [33mclass[39m=[32m"lucide lucide-arrow-left h-4 w-4"[39m
                [33mfill[39m=[32m"none"[39m
                [33mheight[39m=[32m"24"[39m
                [33mstroke[39m=[32m"currentColor"[39m
                [33mstroke-linecap[39m=[32m"round"[39m
                [33mstroke-linejoin[39m=[32m"round"[39m
                [33mstroke-width[39m=[32m"2"[39m
                [33mviewBox[39m=[32m"0 0 24 24"[39m
                [33mwidth[39m=[32m"24"[39m
                [33mxmlns[39m=[32m"http://www.w3.org/2000/svg"[39m
              [36m>[39m
                [36m<path[39m
                  [33md[39m=[32m"m12 19-7-7 7-7"[39m
                [36m/>[39m
                [36m<path[39m
                  [33md[39m=[32m"M19 12H5"[39m
                [36m/>[39m
              [36m</svg>[39m
              [0mBack to Notes[0m
            [36m</button>[39m
            [36m<div>[39m
              [36m<h1[39m
                [33mclass[39m=[32m"text-2xl font-bold"[39m
              [36m>[39m
                [0mSettings[0m
              [36m</h1>[39m
              [36m<p[39m
                [33mstyle[39m=[32m"color: hsl(var(--muted-foreground));"[39m
              [36m>[39m
                [0mConfigure your scratch-pad application preferences[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"space-y-6"[39m
            [33mdata-orientation[39m=[32m"horizontal"[39m
            [33mdir[39m=[32m"ltr"[39m
          [36m>[39m
            [36m<div[39m
              [33maria-orientation[39m=[32m"horizontal"[39m
              [33mclass[39m=[32m"h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground grid w-full grid-cols-4"[39m
              [33mdata-orientation[39m=[32m"horizontal"[39m
              [33mrole[39m=[32m"tablist"[39m
              [33mstyle[39m=[32m"outline: none;"[39m
              [33mtabindex[39m=[32m"0"[39m
            [36m>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-general"[39m
                [33maria-selected[39m=[32m"true"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"active"[39m
                [33mid[39m=[32m"radix-«r1i»-trigger-general"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mGeneral[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-performance"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«r1i»-trigger-performance"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mPerformance[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-monitoring"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm"[39m
                [33mdata-orientation[39m=[32m"horizontal"[39m
                [33mdata-radix-collection-item[39m=[32m""[39m
                [33mdata-state[39m=[32m"inactive"[39m
                [33mid[39m=[32m"radix-«r1i»-trigger-monitoring"[39m
                [33mrole[39m=[32m"tab"[39m
                [33mtabindex[39m=[32m"-1"[39m
                [33mtype[39m=[32m"button"[39m
              [36m>[39m
                [0mMonitoring[0m
              [36m</button>[39m
              [36m<button[39m
                [33maria-controls[39m=[32m"radix-«r1i»-content-optimization"[39m
                [33maria-selected[39m=[32m"false"[39m
                [33mclass[39m=[32m"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:...
 ❯ waitForWrapper node_modules/.pnpm/@testing-library+dom@10.4.0/node_modules/@testing-library/dom/dist/wait-for.js:163:27
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:77:11
     75|     render(<SettingsView />)
     76|     
     77|     await waitFor(() => {
       |           ^
     78|       expect(screen.getByText('Global Shortcut')).toBeInTheDocument()
     79|       expect(screen.getByText('Font Preferences')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[54/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should handle back button click
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:96:5
     94|     })
     95|     
     96|     await user.click(screen.getByText('Back to Notes'))
       |     ^
     97|     
     98|     expect(mockSetCurrentView).toHaveBeenCalledWith('note')

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[55/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should validate form inputs
Error: The element to be cleared could not be focused.
 ❯ Object.clear node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/clear.js:21:15
 ❯ node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:35
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:28
 ❯ wrapAsync node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/wrapAsync.js:6:24
 ❯ Object.method [as clear] node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:16
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:110:16
    108|     // Clear global shortcut (required field)
    109|     const shortcutInput = screen.getByDisplayValue('Ctrl+Shift+N')
    110|     await user.clear(shortcutInput)
       |                ^
    111|     
    112|     // Try to save

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[56/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should validate numeric fields
Error: The element to be cleared could not be focused.
 ❯ Object.clear node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/clear.js:21:15
 ❯ node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:35
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:28
 ❯ wrapAsync node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/wrapAsync.js:6:24
 ❯ Object.method [as clear] node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:16
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:128:18
    126|     const widthInput = screen.getByDisplayValue('800')
    127|     await act(async () => {
    128|       await user.clear(widthInput)
       |                  ^
    129|       await user.type(widthInput, '100') // Too small
    130|     })
 ❯ node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ process.env.NODE_ENV.exports.act node_modules/.pnpm/react@19.1.1/node_modules/react/cjs/react.development.js:790:22
 ❯ node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:127:11

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[57/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should save settings successfully
Error: The element to be cleared could not be focused.
 ❯ Object.clear node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/clear.js:21:15
 ❯ node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:35
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:28
 ❯ wrapAsync node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/wrapAsync.js:6:24
 ❯ Object.method [as clear] node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:16
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:149:16
    147|     // Modify a setting
    148|     const shortcutInput = screen.getByDisplayValue('Ctrl+Shift+N')
    149|     await user.clear(shortcutInput)
       |                ^
    150|     await user.type(shortcutInput, 'Ctrl+Alt+S')
    151|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[58/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should handle save errors
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:172:5
    170|     })
    171|     
    172|     await user.click(screen.getByText('Save Settings'))
       |     ^
    173|     
    174|     await waitFor(() => {

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[59/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should export settings
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:191:5
    189|     })
    190|     
    191|     await user.click(screen.getByText('Export Settings'))
       |     ^
    192|     
    193|     await waitFor(() => {

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[60/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should import settings
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:214:5
    212|     })
    213|     
    214|     await user.click(screen.getByText('Import Settings'))
       |     ^
    215|     
    216|     // The file input interaction is complex in tests, so we'll verify…

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[61/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should reset settings to defaults
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:236:7
    234|     
    235|     await act(async () => {
    236|       await user.click(screen.getByText('Reset to Defaults'))
       |       ^
    237|     })
    238|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[62/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should not reset settings if user cancels
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:261:7
    259|     
    260|     await act(async () => {
    261|       await user.click(screen.getByText('Reset to Defaults'))
       |       ^
    262|     })
    263|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[63/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should clear validation errors when input changes
Error: The element to be cleared could not be focused.
 ❯ Object.clear node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/clear.js:21:15
 ❯ node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:35
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:28
 ❯ wrapAsync node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/wrapAsync.js:6:24
 ❯ Object.method [as clear] node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:16
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:276:16
    274|     // Create validation error
    275|     const widthInput = screen.getByDisplayValue('800')
    276|     await user.clear(widthInput)
       |                ^
    277|     await user.type(widthInput, '100')
    278|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[64/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should show saving state
TypeError: Cannot read properties of undefined (reading 'pointerEvents')
 ❯ closestPointerEventsDeclaration node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:14:58
 ❯ checkPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:34:25
 ❯ hasPointerEvents node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utils/pointer/cssPointerEvents.js:8:36
 ❯ Object.leave node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/pointer.js:42:21
 ❯ PointerHost.move node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/system/pointer/index.js:49:85
 ❯ pointerAction node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:57:39
 ❯ Object.pointer node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/pointer/index.js:25:15
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:22
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:327:5
    325|     })
    326|     
    327|     await user.click(screen.getByText('Save Settings'))
       |     ^
    328|     
    329|     expect(screen.getByText('Saving...')).toBeInTheDocument()

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[65/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should validate fuzzy search threshold range
Error: The element to be cleared could not be focused.
 ❯ Object.clear node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/clear.js:21:15
 ❯ node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:35
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:28
 ❯ wrapAsync node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/wrapAsync.js:6:24
 ❯ Object.method [as clear] node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:16
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:341:18
    339|     const thresholdInput = screen.getByDisplayValue('0.6')
    340|     await act(async () => {
    341|       await user.clear(thresholdInput)
       |                  ^
    342|       await user.type(thresholdInput, '1.5') // Out of range
    343|     })
 ❯ node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ process.env.NODE_ENV.exports.act node_modules/.pnpm/react@19.1.1/node_modules/react/cjs/react.development.js:790:22
 ❯ node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:340:11

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[66/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should validate auto-save delay range
Error: The element to be cleared could not be focused.
 ❯ Object.clear node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/utility/clear.js:21:15
 ❯ node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:35
 ❯ Object.asyncWrapper node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/pure.js:88:28
 ❯ wrapAsync node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/wrapAsync.js:6:24
 ❯ Object.method [as clear] node_modules/.pnpm/@testing-library+user-event@14.6.1_@testing-library+dom@10.4.0/node_modules/@testing-library/user-event/dist/esm/setup/setup.js:83:16
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:359:18
    357|     const delayInput = screen.getByDisplayValue('500')
    358|     await act(async () => {
    359|       await user.clear(delayInput)
       |                  ^
    360|       await user.type(delayInput, '50') // Too small
    361|     })
 ❯ node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/act-compat.js:48:24
 ❯ process.env.NODE_ENV.exports.act node_modules/.pnpm/react@19.1.1/node_modules/react/cjs/react.development.js:790:22
 ❯ node_modules/.pnpm/@testing-library+react@16.3.0_@testing-library+dom@10.4.0_@types+react-dom@19.1.7_@type_0426c92880c2de38460073daf9baf15b/node_modules/@testing-library/react/dist/act-compat.js:47:25
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:358:11

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[67/68]⎯

 FAIL  src/components/settings/__tests__/SettingsView.test.tsx > SettingsView > should auto-hide success messages
Error: Test timed out in 15000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/components/settings/__tests__/SettingsView.test.tsx:368:3
    366|   })
    367| 
    368|   it('should auto-hide success messages', async () => {
       |   ^
    369|     vi.useFakeTimers()
    370|     

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[68/68]⎯


 Test Files  6 failed | 6 passed (12)
      Tests  68 failed | 162 passed (230)
   Start at  23:37:06
   Duration  174.52s (transform 1.56s, setup 5.99s, collect 4.20s, tests 243.77s, environment 12.22s, prepare 4.83s)

 ELIFECYCLE  Test failed. See above for more details.
